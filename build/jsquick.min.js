function buildTag(e,t,r){const n=document.createElement(e);for(var l of Object.keys(t))l.startsWith("on")?n.setAttribute(l,`(${t[l]})()`):n.setAttribute(l,t[l]);if("string"==typeof r)n.appendChild(document.createTextNode(r));else for(var s of Object.keys(r))n.appendChild(buildTag(r[s][0],{id:s,...r[s][1]},r[s][2]));return n}const loadJS=(e,t)=>{const r=document.createElement("script");r.src=e,r.onload=t,document.body.appendChild(r)},loadCSS=(e,t)=>{const r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=t,document.head.appendChild(r)};class JSQQueryElement{constructor(e){this.elem=e}on(e,t){return this.elem.addEventListener(e,t),this}css(e,t){return this.elem.style.setProperty(e,t),this}attr(e,t){return this.elem.setAttribute(e,t),this}add(...e){for(var t of e)t=t.elem||t,this.elem.appendChild(t);return this}click(){return this.elem.click(),this}text(e){return this.elem.innerText=e,this}addClass(e){return this.elem.classList.add(e),this}remClass(e){return this.elem.classList.remove(e),this}id(e){return this.elem.id=e,this}focus(){return this.elem.focus(),this}}class JSQ extends Function{constructor(){super("...args","return $.call(...args)"),this.body=new JSQQueryElement(document.querySelector("body"))}call(t){t=document.querySelectorAll(t);if(0==t.length)return null;if(1==t.length)return new JSQQueryElement(t[0]);{let e=[];for(var r of t)e.push(new JSQQueryElement(r));return new JSQQueryElementList(e)}}download(e,t,r){let n="";"text"==(r=r||"file")?n="data:text/plain;charset=utf-8,"+encodeURIComponent(t):"file"==r&&(n=t),$.create("a").attr("href",n).attr("download",e).click()}create(e,t){return new JSQQueryElement(document.createElement(e,t))}request(n,l,s,o){return new Promise((e,t)=>{let r={method:l,...o};null!=s&&0!=Object.keys(s).length&&(r.body=s),fetch(n,r).then(e).catch(t)})}get(e,t){return this.request(e,"GET",{},t)}post(e,t,r){return this.request(e,"POST",t,r)}put(e,t,r){return this.request(e,"PUT",t,r)}delete(e,t,r){return this.request(e,"DELETE",t,r)}patch(e,t,r){return this.request(e,"PATCH",t,r)}}const $=new JSQ;class JSQQueryElementList{constructor(e){this.elements=e}}Object.getOwnPropertyNames(JSQQueryElement.prototype).forEach(e=>{let r=JSQQueryElement.prototype[e];"function"==typeof r&&Object.defineProperty(JSQQueryElementList.prototype,r.name,{configurable:!0,writable:!0,value:function(...e){for(var t of this.elements)r.call(t,...e)}})});const JSQAttrsMap={},bindState=(e,t,r)=>{r=r||(()=>{});let n="JSQ_"+JSQuuid();var l=`<span class=${n}>${t}</span>`;JSQreplaceInDoc(`{{${e}}}`,l);let s=t;return[()=>s,e=>{JSQsetClassContent(n,e),s=e,r(e)}]},bindAttr=(r,e,t,n)=>{n=n||(()=>{});let l="JSQ_"+JSQuuid(),s="q_"+r;var o,i=document.querySelectorAll("["+s+"]");let a="{{"+e+"}}";for(o of i){let e=o.attributes.getNamedItem(s);e.value.includes(a)&&(o.classList.add(l),o.setAttribute(r,JSQReplaceAllAttrs(e,s,a,o,t)))}let u=t,c=[()=>u,e=>{for(var t of document.getElementsByClassName(l))t.setAttribute(r,JSQReplaceAllAttrs(t.attributes.getNamedItem(s),s,a,t,e));u=e,n(e)}];return JSQAttrsMap[e]=e=>e.replace(a,c[0]()),c},JSQReplaceAllAttrs=(e,t,r,n,l)=>{let s=e.value.replaceAll(r,l);const o=n.attributes.getNamedItem(t).value.matchAll(/\{\{\w+\}\}/g);let a=o.next();for(;null!=a.value;){let e=JSQAttrsMap[a.value[0].substr(2,a.value[0].length-4)];e&&(s=e(s)),a=o.next()}return s};function JSQuuid(){var r=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random();return 0<r?(t=(r+t)%16|0,r=Math.floor(r/16)):(t=(n+t)%16|0,n=Math.floor(n/16)),("x"===e?t:3&t|8).toString(16)})}const JSQreplaceInDoc=(e,t)=>{document.body.innerHTML=document.body.innerHTML.replaceAll(e,t)},JSQsetClassContent=(e,t)=>{for(var r of document.getElementsByClassName(e))r.innerHTML=t},JSQsetClassAttrContent=(e,t,r)=>{for(var n of document.getElementsByClassName(e))n.setAttribute(t,r)};
//# sourceMappingURL=jsquick.min.map