const buildTag=(e,t,r)=>{null==t&&null==r&&(t=e[1],r=e[2],e=e[0]);const n=document.createElement(e);for(var l of Object.keys(t))l.startsWith("on")?n.setAttribute(l,`(${t[l]})()`):n.setAttribute(l,t[l]);if("string"==typeof r)n.appendChild(document.createTextNode(r));else for(var s of Object.keys(r))n.appendChild(buildTag(r[s][0],{id:s,...r[s][1]},r[s][2]));return n},loadJS=(e,t)=>{const r=document.createElement("script");r.src=e,r.onload=t,document.body.appendChild(r)},loadCSS=(e,t)=>{const r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=t,document.head.appendChild(r)};class JSQQueryElement{constructor(e){this.elem=e}on(e,t){return this.elem.addEventListener(e,t),this}css(e,t){return this.elem.style.setProperty(e,t),this}attr(e,t){return this.elem.setAttribute(e,t),this}add(...e){for(var t of e)t=t.elem||t,this.elem.appendChild(t);return this}click(){return this.elem.click(),this}text(e){return this.elem.innerText=e,this}html(e){return this.elem.innerHTML=e,this}addClass(e){return this.elem.classList.add(e),this}remClass(e){return this.elem.classList.remove(e),this}id(e){return this.elem.id=e,this}focus(){return this.elem.focus(),this}}class JSQ extends Function{constructor(){super("...args","return $.call(...args)"),this.body=new JSQQueryElement(document.querySelector("body"))}call(t){t=document.querySelectorAll(t);if(0==t.length)return null;if(1==t.length)return new JSQQueryElement(t[0]);{let e=[];for(var r of t)e.push(new JSQQueryElement(r));return new JSQQueryElementList(e)}}download(e,t,r){let n="";"text"==(r=r||"file")?n="data:text/plain;charset=utf-8,"+encodeURIComponent(t):"file"==r&&(n=t),$.create("a").attr("href",n).attr("download",e).click()}create(e,t){return new JSQQueryElement(document.createElement(e,t))}request(n,l,s,a){return new Promise((e,t)=>{let r={method:l,...a};null!=s&&0!=Object.keys(s).length&&(r.body=s),fetch(n,r).then(e).catch(t)})}get(e,t){return this.request(e,"GET",{},t)}post(e,t,r){return this.request(e,"POST",t,r)}put(e,t,r){return this.request(e,"PUT",t,r)}delete(e,t,r){return this.request(e,"DELETE",t,r)}patch(e,t,r){return this.request(e,"PATCH",t,r)}}const $=new JSQ;class JSQQueryElementList{constructor(e){this.elements=e}}Object.getOwnPropertyNames(JSQQueryElement.prototype).forEach(e=>{let r=JSQQueryElement.prototype[e];"function"==typeof r&&Object.defineProperty(JSQQueryElementList.prototype,r.name,{configurable:!0,writable:!0,value:function(...e){for(var t of this.elements)r.call(t,...e)}})});const JSQAttrsMap={},bindState=(e,t,r,n)=>{r=r||(()=>{}),n=n||(e=>e);let l="JSQ_"+JSQuuid();t=n(t);var s=`<span class=${l}>${t}</span>`;JSQreplaceInDoc(`{{${e}}}`,s);let a=t;return[()=>a,e=>{e=n(e);JSQsetClassContent(l,e),a=e,r(e)}]},bindAttr=(n,e,t,l,s)=>{l=l||(()=>{}),s=s||(e=>e);let a="JSQ_"+JSQuuid(),o="q_"+n;var r,i=document.querySelectorAll("["+o+"]");let u="{{"+e+"}}";t=s(t);for(r of i){let e=r.attributes.getNamedItem(o);e.value.includes(u)&&(r.classList.add(a),r.setAttribute(n,JSQReplaceAllAttrs(e,o,u,r,t)))}let c=t,d=[()=>c,e=>{var t,r=s(e);for(t of document.getElementsByClassName(a))t.setAttribute(n,JSQReplaceAllAttrs(t.attributes.getNamedItem(o),o,u,t,r));c=r,l(r)}];return JSQAttrsMap[e]=e=>e.replace(u,d[0]()),d},JSQReplaceAllAttrs=(e,t,r,n,l)=>{let s=e.value.replaceAll(r,l);const a=n.attributes.getNamedItem(t).value.matchAll(/\{\{\w+\}\}/g);let o=a.next();for(;null!=o.value;){let e=JSQAttrsMap[o.value[0].substr(2,o.value[0].length-4)];e&&(s=e(s)),o=a.next()}return s};function JSQuuid(){var r=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random();return 0<r?(t=(r+t)%16|0,r=Math.floor(r/16)):(t=(n+t)%16|0,n=Math.floor(n/16)),("x"===e?t:3&t|8).toString(16)})}const JSQreplaceInDoc=(e,t)=>{JSQreplaceInTag(e,t,document.body)},JSQreplaceInTag=(e,t,r)=>{for(var n of r.childNodes)JSQreplaceInTag(e,t,n);var l;r.nodeType==Node.TEXT_NODE&&""!=r.textContent.replace(/\s|\n/g,"")&&(l=$.create("jsq").html(r.textContent.replaceAll(e,t)).elem,r.parentNode.insertBefore(l,r),r.parentNode.removeChild(r))},JSQsetClassContent=(e,t)=>{for(var r of document.getElementsByClassName(e))r.innerHTML=t},JSQsetClassAttrContent=(e,t,r)=>{for(var n of document.getElementsByClassName(e))n.setAttribute(t,r)};
//# sourceMappingURL=jsquick.min.map